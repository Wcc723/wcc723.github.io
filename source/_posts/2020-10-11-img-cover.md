---
layout: post
title: 新手前端也不該犯的錯：圖片變形
category: development
tagline:
tags: [css, scss, bootstrap]
cssdemo: 
jsdemo:
thumbnail:
photo: https://firebasestorage.googleapis.com/v0/b/casper-de5d5.appspot.com/o/images%2Fblog%2Firon2020_26.jpg?alt=media&token=c70c3827-4da0-4b7c-bfcf-af46431d3c60
published: true
---



網頁常見錯誤的之一：圖片比例變形

當網頁有此錯誤時，會大大的降低網頁的畫面水平，如果是作為一個求職作品，也會被貼上 “不細心” 的標籤，本篇介紹幾種簡單的方式來解決此問題。

以下是原始圖片（圖片來自於 Unsplash，如果失連歡迎與我聯絡）。

{% raw %}
<style>
.box {
  height: 400px !important;
  width: 100% !important;
}
.object-cover {
  object-fit: cover;
}
.background-cover {
  background-position: center center;
  background-size: cover;
}
.object-bottom {
  object-position: right bottom;
}
</style>
{% endraw %}

{% raw %}
<div class="demo">
<img no-lazy src="https://images.unsplash.com/photo-1565942927242-d24e59aa8e79?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt=""> 
</div>
{% endraw %}

常見的錯誤就是將 `img` 標籤限制了高度，卻又設定了 100% 寬度，導致圖片的比例變形（下圖會隨著不同裝置有不同的比例問題，本文在桌面版可以看到最明顯的錯誤）。 

{% raw %}
<div class="demo">
<img no-lazy src="https://images.unsplash.com/photo-1565942927242-d24e59aa8e79?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" width="100%" class="box" alt=""> 
</div>
{% endraw %}

## 使用背景圖

這是相對支援度較高的做法，將 `img` 中的圖片改為使用 `background-image` 來呈現，並使用 `background-size: cover;` 的方式來限制顯示區域，同時也可搭配 `background-position` 來調整圖片的顯示位置。

{% raw %}
<div class="demo">
  <div class="box background-cover" style="background-image: url(https://images.unsplash.com/photo-1565942927242-d24e59aa8e79?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60);"></div> 
</div>
{% endraw %}

原始碼參考如下，可搭配 `background-position` 來調整背景圖的位置（預設是圖片的左上方）；簡單易用，且有不錯的瀏覽器相容性。

```css
.background-cover {
  background-position: center center;
  background-size: cover;
}
```

`background-size: cover;` 可以讓背景圖盡可能覆蓋整個區域，此做法也會裁切掉部分圖片，因此要特別注意到**保留的區塊是否為圖片的主題**；如果圖片主題被裁切可試著改變 `background-position` 屬性；當無法正確呈現主題會建議替換其它圖片，或採用其它的排版方式。

![](https://firebasestorage.googleapis.com/v0/b/casper-de5d5.appspot.com/o/images%2Fblog%2F%E8%B2%BC%E4%B8%8A%E7%9A%84%E5%BD%B1%E5%83%8F_2020_10_10_%E4%B8%8A%E5%8D%8810_02.png?alt=media&token=332d5ebf-977d-4265-9e27-5d1cfe13c76d)

> 圖片裁切概念，會盡可能將圖片覆蓋整個區域，超出區域的部分將會被裁切。

## 使用 img 標籤搭配 `object-fit`

此作法概念與上述相同，但可保留 `img` 的特性（可以加上 alt 以及較好的 SEO）。

{% raw %}
<div class="demo">
  <img no-lazy src="https://images.unsplash.com/photo-1565942927242-d24e59aa8e79?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" class="box object-cover" alt="">
</div>
{% endraw %}

`object-fit` 是決定圖片填滿方式的屬性，用法與 `background-size` 相當類似，僅不過是套用上 `img` 專屬的屬性。另外，它不支援 IE11。

```css
.object-cover {
  object-fit: cover;
}
```

預設來說它的定位是在圖片的正中央，定位也可透過 `object-position` 來進行調整。

{% raw %}
<div class="demo">
  <img no-lazy src="https://images.unsplash.com/photo-1565942927242-d24e59aa8e79?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" class="box object-cover object-bottom"  alt="">
</div>
{% endraw %}
```css
.object-bottom {
  object-position: right bottom;
}
```

過去，大多會推薦使用 `background-size` 來解決圖片比例變形的問題，因為很難預期觀看者是否會使用 IE11 來檢視你的網頁，隨著微軟[公布不再支援 IE11](https://techcommunity.microsoft.com/t5/microsoft-365-blog/microsoft-365-apps-say-farewell-to-internet-explorer-11-and/ba-p/1591666)，開發者可以盡情地開始使用 `object-fit` 屬性了。